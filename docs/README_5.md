# Практика 5. Создание пользовательского приложения с применением классификации, детектирования и трекинга. 

## Цели

__Цель данной работы__ - разработать приложениедля поэтапного решения задач детектирования, классификации и трекинга с использованием модуля [Dnn][opencv_dnn] библиотеки OpenCV. 

## Задачи

В интернете содержится большое количество видео типа "топ X пород собак". В большинстве таких видео нет соотвествия между представленной собакой и ее породой. Задача: автоматизировать классификацию представленных собак по породам. Необходимо разработать приложение для:

  - детектирования собак;
  - распознавания (классификации) породы;
  - сохранения информации о породе в текстовый файл;
  - сохранения ОДНОЙ фотографии каждой собаки. 

__Основные задачи:__

 1. Скачать обученные сети `squeezenet1.1`, [mobilenet-ssd][mobilenetssd]. 
 1. Реализовать приложения для сбора статистики (представительства) объектов по типам.
 
__Дополнительные задачи:__

 1. Используйте собственную реализацию детектора и решения задачи о назначениях [Практики 4][practice4] для детектирования и  отслеживания объектов.
 1. Для случая, когда на видео присутствует два объекта одного класса, удалить из списка пород собак повторяющиеся. Для каждой породы сохранить фото каждой собаки данной породы, представленной на видео.
 1. Вывести топ-1, топ-3 пород собак, представленных на видео.
 
 ## Общая последовательность действий
 
 1. Скачать обученную сеть `squeezenet1.1`. 
 1. Скачать модель для детектирования объектов [mobilenet-ssd][mobilenetssd].
 1. Использовать решение [Практики 3][practice3] для детектирования объектов.
 1. Использовать решение [Практики 4][practice4] для трекинга(отслеживания) каждого объекта(собаки). Примечание: используйте собственный детектор.
 1. Сохранить необходимую информацию (классы собак и одно изображение представителя данного класса) на диск.
 
## Детальная инструкция по выполнению работы

 1. 1. в папке `<openvino_dir>/deployment_tools/tools/model_downloader/`  запустить скрипт downloader.py с необходимыми параметрам для скачивания обученных моделей `squeezenet1.1`, [mobilenet-ssd][mobilenetssd]. Пример:

        ```bash
        $ cd "C:\Intel\computer_vision_sdk\deployment_tools\tools\model_downloader"
        $ python downloader.py --name mobilenet-ssd --output <destination_folder>
        ```  
 1. Перенести исходный код практики `<project_source>/src/practice4.cpp` в  `<project_source>/src/practice5_YOUR_NAME.cpp`, удостовериться в его работоспособности на видео `data/topdogs.mp4`.
 1. В файле `<project_source>/src/practice5_YOUR_NAME.cpp` подключить заголовочный файл `classificator.h` и создать объект класса `DnnClassificator`.
 1. В файле `<project_source>/src/practice5_YOUR_NAME.cpp` в функции `main` при помощи `DnnClassificator` добавить классификацию объектов для областей изображения, на которых был детектированы собаки.
 1. Записать породу собаки, полученную при помощи `DnnClassificator`, в текстовый файл. 
 1. Сохранить ОДНО изображение каждой собаки на диск.
 1. Решить задачи из списка [Дополнительные задачи][addtasks]. 
 
<!-- LINKS -->
[addtasks]: README_5.md#Задачи
[opencv_dnn]: https://docs.opencv.org/4.1.0/df/d57/namespacecv_1_1dnn.html
[mobilenetssd]: https://github.com/chuanqi305/MobileNet-SSD
[practice3]: README_3.md
[practice2]: README_2.md
[practice4]: README_4.md
